<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Firebase Test</title>
    <style>
        * {
            font-family: monospace;
            font-size: 1.2em;
        }

        #scoreElement {
            font-size: 3em;
            width: 5em;
            height: 2.5em;
            color: white;
            background-color: black;
            border: 5px solid gray;
            text-align: center;
            padding-top: 1em;
        }

    </style>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <!-- Require the core realtime database. -->
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-database.js"></script>

    <script type="module">
        "use strict";
        
        import { default as SECRETS } from './src/_secret.js';
        
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: SECRETS.API_KEY,
            authDomain: "igme330-highscoreproject.firebaseapp.com",
            databaseURL: "https://igme330-highscoreproject.firebaseio.com",
            projectId: "igme330-highscoreproject",
            storageBucket: "igme330-highscoreproject.appspot.com",
            messagingSenderId: "188601635516",
            appId: "1:188601635516:web:af195a1d1e2468bcd376b9"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        console.dir(firebase);

        // #1 - get a reference to the databse
        let database = firebase.database();

        // #2 - refer to a root node named `scores`
        let ref = database.ref('scores');

        // #3 - create some data
        let data = {
            id: null,
            name: "MADMAX",
            realName: "Maxine Mayfield",
            gameName: "Dig Dug",
            score: 750200
        };

        // #4 - send data, in this case we are adding it to the `scores` node
        let newScoreRef = ref.push(data);
        console.log(newScoreRef.key);
        console.log(newScoreRef.toString());

        // Refer to a new node known as users.
        ref = database.ref('users');

        data = {
            id: null,
            firstName: "Bob",
            lastName: "Jones",
        }

        let newUserRef = ref.push(data);
        data.id = newUserRef.getKey();
        console.dir(data);

        data = {
            id: null,
            firstName: "Jill",
            lastName: "Bones",
        }

        newUserRef = ref.push(data);
        data.id = newUserRef.getKey();
        console.dir(data);

    </script>

</head>

<body>
    Testing Realtime Database


</body>

</html>
